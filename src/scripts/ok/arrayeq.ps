%% Example 3.14: Procedure to Compare Array Contents
% array1 array2 arrayeq bool

/arrayeq { %def
	2 copy eq { pop pop true }{ %ifelse
		% if lengths are not equal, return false
		2 copy length exch length eq { %ifelse
			% We now have to compare all elements
			true % arr arr true
			0 1 3 index length 1 sub { %for
				3 index 1 index get % arr arr bool index val1
				3 index 2 index get % arr arr bool index val1 val2
				eq exch pop and % arr arr bool
			} for
			exch pop exch pop
		}{ pop pop false } ifelse
	} ifelse
} bind def

/arrayne { arrayeq not } bind def

[1 2 3 4]
[1 2 3 3 1 add] arrayeq =